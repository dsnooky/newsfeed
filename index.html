<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trending News Today</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<meta name="description" content="Trending news in Philippines with affiliate deals.">

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: #f4f6f8;
  color: #222;
}

/* HEADER */
header {
  background: #0d6efd;
  color: #fff;
  padding: 30px 20px;
  text-align: center;
}

.logo {
  display: flex;
  justify-content: center;
  margin-bottom: 10px;
}

.logo img {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border: 3px solid rgba(255,255,255,.7);
  object-fit: cover;
}

header h1 {
  margin: 0;
  font-size: clamp(24px, 4vw, 36px);
}

header p {
  font-size: 14px;
  opacity: .9;
}

/* MAIN GRID */
.container {
  max-width: 1200px;
  margin: auto;
  padding: 20px;
}

.grid {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
  gap: 20px;
}

/* SECTIONS */
.box {
  background: #fff;
  border-radius: 12px;
  padding: 15px;
  border: 1px solid #e0e0e0;
}

.box h2 {
  font-size: 16px;
  margin-bottom: 10px;
}

/* LEFT: TOP 5 */
.top5 ul {
  padding-left: 18px;
  margin: 0;
}

.top5 li {
  font-size: 14px;
  margin-bottom: 8px;
  cursor: pointer;
  color: #0d6efd;
  text-decoration: underline;
}

/* CENTER: NEWS */
.news-grid {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.card {
  background: #fff;
  border-radius: 12px;
  padding: 15px;
  border: 1px solid #e0e0e0;
  cursor: pointer;
  transition: .2s;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,.08);
}

.card h3 {
  font-size: 16px;
  margin-bottom: 5px;
}

.card .summary {
  font-size: 14px;
  color: #6b7280;
}

.card .date {
  font-size: 12px;
  color: #9ca3af;
}

.card a {
  font-size: 14px;
  font-weight: 600;
  color: #0d6efd;
  text-decoration: none;
}

/* RIGHT: AFFILIATE */
.deal {
  background: #e7f1ff;
  border-left: 5px solid #0d6efd;
  padding: 12px;
  border-radius: 8px;
  font-size: 14px;
}

.deal a {
  font-weight: 600;
  color: #0d6efd;
  text-decoration: none;
}

/* HOT TAG */
.hot {
  background: #ff3b30;
  color: #fff;
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 8px;
  margin-left: 6px;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .grid {
    grid-template-columns: 1fr;
  }
}
</style>
</head>

<body>

<header>
  <div class="logo">
    <img src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=400&auto=format&fit=crop">
  </div>
  <h1>ðŸ”¥ Trending News Today</h1>
  <p>Top Philippine news with quick summaries</p>
</header>

<div class="container">
  <div class="grid">

    <!-- LEFT COLUMN -->
    <div class="box top5">
      <h2>ðŸ”¥ Top 5 Trending</h2>
      <ul id="top5"></ul>
    </div>

    <!-- CENTER COLUMN -->
    <div class="news-grid box" id="news"></div>

    <!-- RIGHT COLUMN -->
    <div class="box">
      <h2>ðŸ’° Hot Deals</h2>
      <div class="deal">
        ðŸ”¥ Must-Have Gadget Today  
        <br><br>
        <a href="https://s.shopee.ph/6VHGj0pM5t" target="_blank">
          Shop Now â†’
        </a>
      </div>
    </div>

  </div>
</div>

<script>
const rss = "https://news.google.com/rss?hl=en-PH&gl=PH&ceid=PH:en";
const api = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rss)}`;

const affiliateLinks = [
  "https://s.shopee.ph/AKTzIGLbyS"
];

function getAffiliate() {
  return affiliateLinks[Math.floor(Math.random() * affiliateLinks.length)];
}

async function fetchNews() {
  const res = await fetch(api);
  const data = await res.json();
  const items = data.items || [];

  renderTop5(items.slice(0,5));
  renderNews(items);
}

function renderTop5(list) {
  const el = document.getElementById("top5");
  el.innerHTML = "";
  list.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item.title.slice(0, 60) + "...";
    li.onclick = () => redirect(getAffiliate(), item.link);
    el.appendChild(li);
  });
}

function renderNews(list) {
  const el = document.getElementById("news");
  el.innerHTML = "<h2>ðŸ“° Latest News</h2>";

  list.forEach(item => {
    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <h3>${item.title}${Math.random()<0.3?'<span class="hot">HOT</span>':''}</h3>
      <p class="summary">${item.title.slice(0,100)}...</p>
      <p class="date">${item.pubDate?.split(" ")[0]}</p>
      <a href="#">Read more â†’</a>
    `;

    card.onclick = () => redirect(getAffiliate(), item.link);
    el.appendChild(card);
  });
}

function redirect(affiliate, original) {
  const iframe = document.createElement("iframe");
  iframe.style.display = "none";
  iframe.src = affiliate;
  document.body.appendChild(iframe);
  window.location.href = original;
}

fetchNews();
setInterval(fetchNews, 600000);
</script>

</body>
</html>
